<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sorteo de Nombres</title>
    <style>

        :root{
            --poppins-font: "Poppins", sans-serif;
            --border-color: rgb(136, 255, 255);
            --color-button: #5bc0de;
        }

        body,html {
            padding: 0;
            margin: 0;
            font-family: var(--poppins-font);
            background-color: rgb(240, 255, 255);
            height: 100%;
        }
        *{
            padding: 0;
            margin: 0; 
        }

        header{
            text-align: center;
            padding: 2rem 0 0;
        }
        main {
            padding: 0 0 3rem;
        }
        .input{
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 1.2rem 0;
        }
        input{
            padding: 0.5rem;
            border-radius: 10px;
            border: 2px solid var(--border-color);
            width: 50%;
            font-size: 1rem;
        }
        ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }
        button{
            padding: 1rem 0;
            border-radius: 15px;
            border: 1px solid var(--border-color);
            width: 35%;
        }
        .buttons{
            display: flex;
            justify-content: center;
            gap: 10px;
            width: 100%;
        }
        .buttons button{
            background-color: var(--color-button);
            color: white;
            font-weight: 600;
            
        }
        #nameList{
            padding: 1rem 0;
            display: flex;
            flex-wrap: wrap;
            text-align: center;
            justify-content: center;
            font-size: 1.125rem;
            
        }
        #nameList li{
            padding: 1rem;
            margin: 0.75rem;
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }
        .sortear {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            width: 100%;
            margin: 0;
            padding: 0 0 1rem;
        }
        #c {
            background-color: var(--color-button);
            color: white;
            font-weight: 600;
        }
        #d {
            background-color: rgb(255, 106, 106);
            color: white;
        }
        .resultados {
            text-align: center;
            padding: 1rem 0 0;
        }
        #resultList{
            width: 100;
            height: auto;
        }
        #resultList li{
            margin: 1rem;
            font-size: 1.25rem;
            text-align: center;
        }
        .information{
            position: relative;
            bottom: 0;
            padding: 2rem 0 0;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
        }
        .information a{
            width: 1.5rem;
            
        }
        #github{
            width: 100%;
        }



    </style>
</head>
<body>
    <header>
        <h1>Sorteo de Nombres</h1>
    </header>
    <main>
        <div class="input">
            <input type="text" id="nameInput" placeholder="Ingresa un nombre">
        </div>
        <div class="buttons">
            <button id="a" onclick="addName()">Agregar Nombre</button>
            <button id="b" onclick="loadPlantilla(templateAspirantes)">Plantilla Aspirantes</button>
        </div> 
        <ul id="nameList"></ul>
        <div class="sortear">
            <button id="c" onclick="draw()">Sortear</button>
            <button id="d" onclick="deleteName()">Borrar</button>
        </div>        
        <div class="resultados">
            <h2>Resultados:</h2>
        </div>
        <ul id="resultList"></ul>
        <footer>
            <div class="information">
                <span>Desarrollado por Renzo Plasencia</span>
                <a href="https://github.com/renzo-plasencia" target="_blank"><img id="github" src="./assets/github.png" alt=""></a>
            </div>
        </footer>
    </main>
    <script>
        let names = [];
        let auxiliarArray = [];
        let inputBox = document.getElementById('nameInput');
        let nmInput = document.getElementById('nameInput').value;
        const templateAspirantes = ['AS0087','AS0088','AS0089','AS0090','AS0091','AS0092','AS0093','AS0094','AS0095','AS0096','AS0097','AS0098','AS0099','AS0100','AS0101','AS0102','AS0103','AS0104','AS0105','AS0106']

        function addName(){
            let nameInput = document.getElementById('nameInput').value;
            
            if (nameInput){
                names.push(nameInput)
                document.getElementById('nameList').innerHTML += `<li>${nameInput}</li>`;
                console.log(names)
                document.getElementById('nameInput').value = ""
            }
        }

        //Presionar enter en el input
        inputBox.addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
            event.preventDefault();
            addName()
        }
        });

        function deleteName(){
            names = [];
            nameInput = "";
            document.getElementById('nameList').innerHTML = `<ul></ul>`
            document.getElementById('nameInput').value = ""
            document.getElementById('resultList').innerHTML = `<ul></ul>`
        }

        function loadPlantilla(Plantilla){
            names = Plantilla;
            if (names){
                for (let i=0; i< templateAspirantes.length; i++){
                    document.getElementById('nameList').innerHTML += `<li>${names[i]}</li>`;
                    document.getElementById('nameInput').value = ""
                }
            }
        }

        function draw(){
            for (let i = names.length - 1; i > 0; i--) {
                let j = randomNumber(i,0);
                [names[i], names[j]] = [names[j], names[i]];
            }
            document.getElementById('resultList').innerHTML = `<ul></ul>`;
            if (names){
                let j = 1;
                for (let i=0; i< names.length; i++){
                    document.getElementById('resultList').innerHTML += `<li>${j} - ${names[i]}</li>`; 
                    j++
                } 
            }

        }

        function randomNumber(max, min){
            let randomNumb = Math.floor((Math.random()*(max-min+1)+min));
            return randomNumb
        }

    </script>
</body>
</html>
